# 文字
DISPLAY_TEXT=${HOST}
# 文字色
COLOR_FG='white'
# 背景色
COLOR_BG='130'

## Main prompt (Over ride)
build_prompt() {
  RETVAL=$?
  prompt_status
  prompt_virtualenv
  prompt_segment ${COLOR_BG} ${COLOR_FG} ${DISPLAY_TEXT}
  prompt_aws
  # prompt_context
  prompt_dir
  prompt_git
  prompt_bzr
  prompt_hg
  prompt_end
}

PROMPT='%{%f%b%k%}$(build_prompt) '

colorlist() {
  for color in {000..015}; do
    print -nP "%F{$color}$color %f"
  done
  printf "\n"
  for color in {016..255}; do
    print -nP "%F{$color}$color %f"
    if [ $(($((color - 16)) % 6)) -eq 5 ]; then
      printf "\n"
    fi
  done
}

if [ -z "$SSH_AUTH_SOCK" ]; then
  # Check for a currently running instance of the agent
  RUNNING_AGENT="$(ps -ax | grep 'ssh-agent -s' | grep -v grep | wc -l | tr -d '[:space:]')"
  if [ "$RUNNING_AGENT" = "0" ]; then
    # Launch a new instance of the agent
    ssh-agent -s &>$HOME/.ssh/ssh-agent
  fi
  eval $(cat $HOME/.ssh/ssh-agent)
fi

ssh-add $HOME/.ssh/conf.d/99_taiki_private/id_ed25519
